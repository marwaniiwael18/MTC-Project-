<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTC Project Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Add Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Add Roboto font for Material Design -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Add Material Design CSS -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation Bar with Material Design -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <span class="material-icons me-2">restaurant_menu</span>
                MTC Project Dashboard
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active d-flex align-items-center" href="#" data-section="plats">
                            <span class="material-icons me-1">dinner_dining</span>
                            Plats
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="#" data-section="users">
                            <span class="material-icons me-1">people</span>
                            Utilisateurs
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center" href="#" data-section="orders">
                            <span class="material-icons me-1">shopping_cart</span>
                            Commandes
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Plats Section -->
        <div id="plats-section" class="section">
            <div class="section-header d-flex align-items-center mb-4">
                <span class="material-icons me-2 text-primary">restaurant</span>
                <h2 class="mb-0">Gestion des Plats</h2>
            </div>
            
            <div class="row mb-4">
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white d-flex align-items-center" id="form-title">
                            <span class="material-icons me-2">add_circle</span>
                            Ajouter un plat
                        </div>
                        <div class="card-body">
                            <form id="add-plat-form" class="needs-validation" novalidate>
                                <div class="mb-3">
                                    <label for="plat-name" class="form-label">Nom</label>
                                    <input type="text" class="form-control" id="plat-name" required minlength="2" maxlength="50">
                                    <div class="invalid-feedback">
                                        Veuillez entrer un nom valide (2-50 caractères).
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="plat-description" class="form-label">Description</label>
                                    <textarea class="form-control" id="plat-description" required minlength="5" maxlength="500"></textarea>
                                    <div class="invalid-feedback">
                                        Veuillez entrer une description valide (5-500 caractères).
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="plat-price" class="form-label">Prix</label>
                                    <div class="input-group">
                                        <span class="input-group-text">€</span>
                                        <input type="number" step="0.01" class="form-control" id="plat-price" required min="0.01">
                                    </div>
                                    <div class="invalid-feedback">
                                        Veuillez entrer un prix valide (supérieur à 0).
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end mt-3">
                                    <button type="submit" class="btn btn-primary d-flex align-items-center" id="submit-plat-btn">
                                        <span class="material-icons me-1">add</span>
                                        Ajouter
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white d-flex align-items-center">
                            <span class="material-icons me-2">menu_book</span>
                            Liste des plats
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Nom</th>
                                            <th>Description</th>
                                            <th>Prix</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="plats-list">
                                        <!-- Filled by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Section -->
        <div id="users-section" class="section d-none">
            <div class="section-header d-flex align-items-center mb-4">
                <span class="material-icons me-2 text-primary">manage_accounts</span>
                <h2 class="mb-0">Gestion des Utilisateurs</h2>
            </div>
            
            <div class="row mb-4">
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white d-flex align-items-center">
                            <span class="material-icons me-2">person_add</span>
                            Ajouter un utilisateur
                        </div>
                        <div class="card-body">
                            <form id="add-user-form" class="needs-validation" novalidate>
                                <div class="mb-3">
                                    <label for="user-name" class="form-label">Nom</label>
                                    <input type="text" class="form-control" id="user-name" required minlength="2" maxlength="50">
                                    <div class="invalid-feedback">
                                        Veuillez entrer un nom valide (2-50 caractères).
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="user-email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="user-email" required pattern="[^@\s]+@[^@\s]+\.[^@\s]+">
                                    <div class="invalid-feedback">
                                        Veuillez entrer une adresse email valide.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="user-password" class="form-label">Mot de passe</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="user-password" required minlength="6">
                                        <button class="btn btn-outline-secondary toggle-password" type="button" tabindex="-1">
                                            <span class="material-icons">visibility</span>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback">
                                        Le mot de passe doit contenir au moins 6 caractères.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="user-role" class="form-label">Rôle</label>
                                    <select class="form-select" id="user-role" required>
                                        <option value="" selected disabled>Choisir un rôle</option>
                                        <option value="client">Client</option>
                                        <option value="admin">Admin</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Veuillez sélectionner un rôle.
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end mt-3">
                                    <button type="submit" class="btn btn-primary d-flex align-items-center">
                                        <span class="material-icons me-1">add</span>
                                        Ajouter
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white d-flex align-items-center">
                            <span class="material-icons me-2">people</span>
                            Liste des utilisateurs
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Nom</th>
                                            <th>Email</th>
                                            <th>Rôle</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users-list">
                                        <!-- Filled by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Orders Section -->
        <div id="orders-section" class="section d-none">
            <div class="section-header d-flex align-items-center mb-4">
                <span class="material-icons me-2 text-primary">receipt_long</span>
                <h2 class="mb-0">Gestion des Commandes</h2>
            </div>
            
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-header bg-primary text-white d-flex align-items-center">
                            <span class="material-icons me-2">list_alt</span>
                            Liste des commandes
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>N° Commande</th>
                                            <th>Client</th>
                                            <th>Date</th>
                                            <th>Statut</th>
                                            <th>Total</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="orders-list">
                                        <!-- Filled by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Plat Modal - Enhanced with Material Design -->
    <div class="modal fade" id="editPlatModal" tabindex="-1" aria-labelledby="editPlatModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title d-flex align-items-center" id="editPlatModalLabel">
                        <span class="material-icons me-2">edit</span>
                        Modifier un plat
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="edit-plat-form" class="needs-validation" novalidate>
                        <input type="hidden" id="edit-plat-id">
                        <div class="mb-3">
                            <label for="edit-plat-name" class="form-label">Nom</label>
                            <input type="text" class="form-control" id="edit-plat-name" required minlength="2" maxlength="50">
                            <div class="invalid-feedback">
                                Veuillez entrer un nom valide (2-50 caractères).
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="edit-plat-description" class="form-label">Description</label>
                            <textarea class="form-control" id="edit-plat-description" required minlength="5" maxlength="500"></textarea>
                            <div class="invalid-feedback">
                                Veuillez entrer une description valide (5-500 caractères).
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="edit-plat-price" class="form-label">Prix</label>
                            <div class="input-group">
                                <span class="input-group-text">€</span>
                                <input type="number" step="0.01" class="form-control" id="edit-plat-price" required min="0.01">
                            </div>
                            <div class="invalid-feedback">
                                Veuillez entrer un prix valide (supérieur à 0).
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary d-flex align-items-center" data-bs-dismiss="modal">
                        <span class="material-icons me-1">close</span>
                        Annuler
                    </button>
                    <button type="button" class="btn btn-primary d-flex align-items-center" id="update-plat-btn">
                        <span class="material-icons me-1">save</span>
                        Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast notifications container -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1050">
        <div class="toast-container"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
